// sum a stack
:sum_stack \
  sz 1 = \
  #(+ sum_stack) \
  #(nop) \
  if

// average a stack
:avg_stack \
  sz ->$___temp \
  sum_stack <-$___temp \
  /

// do something for every element of a stack
:foreach sz 1 = #(tuck call foreach) #(pop) if

// reverse stack
:reverse \
  #(->$___temp_1) foreach \
  $___temp_1 #(->$___temp_2) foreach \
  $___temp_2 #(->$main) foreach\
  $main

// test
1 2 3 4 3 5 3 sum_stack . cls
1 2 3 4 3 5 3 avg_stack . cls
1 2 3 4 reverse ...
